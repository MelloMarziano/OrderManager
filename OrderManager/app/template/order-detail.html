<div class="main-container">
    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 class="display-4">{{title}}</h1>
            <h2>Cliente: <small>{{data.Customer.Name}}</small></h2>
            <h2>Cantidad: <small>{{data.OrderItems.length}}</small></h2>
            <h2>Total: <small>200.00</small></h2>
            <h2>Tracking Status:</h2>
            <div class="order-tracking">
                <div class="progress" style="background-color: #C1C1C1; margin-bottom: 5px;">
                    <div class="progress-bar bg-info" ng-style="{ 'width': orderTrackingValue + '%' }" role="progressbar" aria-valuenow={{orderTrackingValue}} aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <div class="order-type">
                    <span>Ordenado</span>
                    <span>Empacado</span>
                    <span>Enviado</span>
                    <span>Entregado</span>
                </div>
            </div>
            <br />
            <div class="row justify-content-between">
                <div class="col text-left" ng-show="data.OrderTracking !== 'Entregado'">
                    <button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal"  ng-click="openModal()">Cambiar tracking</button>
                </div>
                <div class="col text-right">
                    <a href="#/Order" class="btn btn-secondary"><ion-icon size="small" name="home-outline"></ion-icon> Volver a orden</a>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="table-responsive">
                <table class="table table-striped table-bordered table-hover ">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col"># Item</th>
                            <th scope="col">Producto</th>
                            <th scope="col">Cantidad</th>
                            <th scope="col">Precio</th>
                            <th scope="col">Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="i in data.OrderItems track by $index">

                            <td>{{i.Id}}</td>
                            <td>{{i.ProductName}}</td>
                            <td>{{i.Quantity}}</td>
                            <td class="text-right">{{i.Price}}</td>
                            <td class="text-right">{{i.Price * i.Quantity}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-body">
                <h3>{{modalTitle}}</h3>
                <form ng-submit="submitOrder(formBuilder)">
                    <div class="form-group">
                        <label>Producto</label>
                        <select class="form-control" ng-model="formBuilder.OrderTracking">
                            <option value="" selected disabled>Seleccione un estado</option>
                            <option value="Ordenado">Ordenado</option>
                            <option value="Empacado">Empacado</option>
                            <option value="Enviado">Enviado</option>
                            <option value="Entregado">Entregado</option>
                        </select>
                    </div>
                    
                    

                    <br />
                    <div class="row justify-content-between">
                        <div class="col align-self-start">
                            <a class="btn btn-block btn-danger" data-dismiss="modal">Close</a>
                        </div>
                        <div class="col align-self-end">
                            <button type="submit" class="btn btn-block btn-success">Cambiar</button>
                        </div>
                    </div>
                </form>

            </div>

        </div>
    </div>
</div>